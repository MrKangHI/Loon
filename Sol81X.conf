# Github:https://github.com/Kang-404

# å¯¼å…¥é…ç½®ã€‚
# å¯¼å…¥å®Œæˆåç‚¹ https://www.nsloon.com/openloon/flowmodel=filter åˆ‡æ¢è‡³è‡ªåŠ¨åˆ†æµæ¨¡å¼ã€‚
# å†ç‚¹ https://www.nsloon.com/openloon/proxymode=tun åˆ‡æ¢ä»£ç†æ¨¡å¼è‡³ TUN Only æ¨¡å¼ [æ­¤æ“ä½œç‚¹å‡»è·³è½¬è‡³Loonåå³ä¸ºåˆ‡æ¢æˆåŠŸ]ã€‚
# æ‰“å¼€ï¼»MitMï¼½ï¼»è„šæœ¬ï¼½ï¼»å¤å†™ï¼½ä¸‰ä¸ªåŠŸèƒ½çš„å¼€å…³ã€‚
# æ‰“å¼€ï¼»MitMï¼½é‡Œçš„ï¼»MitM over HTTP/2ï¼½å’Œï¼»QUICå›é€€ä¿æŠ¤ï¼½å¼€å…³ã€‚
# ä¿è¯Safariæ˜¯é»˜è®¤æµè§ˆå™¨çš„æƒ…å†µä¸‹ï¼Œå®‰è£…å¹¶ä¿¡ä»»è¯ä¹¦ã€‚
# ç‚¹å‡»Loonåº•éƒ¨å¯¼èˆªæ çš„ï¼»é…ç½®ï¼½â†’ å³ä¸Šè§’çš„ï¼»â‹¯ï¼½ï¼Œæ‰“å¼€ï¼»å§‹ç»ˆå¼€å¯ï¼½çš„å¼€å…³ã€‚
# æ·»åŠ ä½ çš„æœºåœºè®¢é˜…ã€‚
# æ‰“å¼€Loonçš„å¼€å…³åå¹¶ç‚¹å‡» https://www.nsloon.com/openloon/update?sub=all ä¸€é”®æ›´æ–°æ‰€æœ‰å¤–éƒ¨èµ„æºã€‚

[General]
# IPv6 æ”¯æŒ
ip-mode = dual
ipv6-vif = auto
# UDPç›¸å…³
disable-stun = false
udp-fallback-mode = REJECT
# SNIè¾…åŠ©è§„åˆ™åŒ¹é…
sni-sniffing = true
# ç­–ç•¥ç»„åˆ‡æ¢æ—¶å…³é—­è¿æ¥
disconnect-on-policy-change = true
# åŸŸåæ‹¦æˆªè¡Œä¸º
domain-reject-mode = DNS
# > è·³è¿‡ä»£ç†
# è·³è¿‡æŸä¸ªåŸŸåæˆ–è€… IP æ®µï¼Œè¿™äº›ç›®æ ‡ä¸»æœºå°†ä¸ä¼šç”± Loon Proxy å¤„ç†ã€‚
skip-proxy = localhost,*.local,captive.apple.com,e.crashlytics.com,www.baidu.com,passenger.t3go.cn,yunbusiness.ccb.com,wxh.wo.cn,gate.lagou.com,www.abchina.com.cn,login-service.mobile-bank.psbc.com,mobile-bank.psbc.com,10.0.0.0/8,127.0.0.1/32,172.16.0.0/12,192.168.0.0/16,192.168.122.1/32,193.168.0.1/32,::1/128,fe80::/10
# > Always Real IP Hosts
# DNS æ•°æ®åŒ…å°†è¢«è½¬å‘åˆ°ä¸Šæ¸¸ DNS æœåŠ¡å™¨ã€‚
real-ip = *.lan,*.direct,cable.auth.com,*.msftconnecttest.com,*.msftncsi.com,network-test.debian.org,detectportal.firefox.com,resolver1.opendns.com,*.srv.nintendo.net,*.stun.playstation.net,xbox.*.microsoft.com,*.xboxlive.com,stun.*,global.turn.twilio.com,global.stun.twilio.com,app.yinxiang.com,injections.adguard.org,local.adguard.org,localhost.*.qq.com,localhost.*.weixin.qq.com,*.logon.battlenet.com.cn,*.logon.battle.net,*.blzstatic.cn,music.163.com,*.music.163.com,*.126.net,musicapi.taihe.com,music.taihe.com,songsearch.kugou.com,trackercdn.kugou.com,*.kuwo.cn,api-jooxtt.sanook.com,api.joox.com,joox.com,y.qq.com,*.y.qq.com,streamoc.music.tc.qq.com,mobileoc.music.tc.qq.com,isure.stream.qqmusic.qq.com,dl.stream.qqmusic.qq.com,aqqmusic.tc.qq.com,amobile.music.tc.qq.com,*.xiami.com,*.music.migu.cn,music.migu.cn,proxy.golang.org,*.mcdn.bilivideo.cn,*.cmpassport.com,id6.me,open.e.189.cn,opencloud.wostore.cn,id.mail.wo.cn,mdn.open.wo.cn,hmrz.wo.cn,nishub1.10010.com,enrichgw.10010.com,*.wosms.cn,*.jegotrip.com.cn,*.icitymobile.mobi,*.pingan.com.cn,*.cmbchina.com,*.10099.com.cn,*.microdone.cn,pool.ntp.org,*.pool.ntp.org,ntp.*.com,time.*.com,ntp?.*.com,time?.*.com,time.*.gov,time.*.edu.cn,*.ntp.org.cn,PDC._msDCS.*.*,DC._msDCS.*.*,GC._msDCS.*.*
# ç»•è¿‡è·¯ç”±
bypass-tun = 10.0.0.0/8,100.64.0.0/10,127.0.0.0/8,169.254.0.0/16,172.16.0.0/12,192.0.0.0/24,192.0.2.0/24,192.88.99.0/24,192.168.0.0/16,198.18.0.0/15,198.51.100.0/24,203.0.113.0/24,224.0.0.0/4,255.255.255.255/32
# DNS æœåŠ¡å™¨
dns-server = 223.5.5.5
doh-server = https://doh.pub/dns-query,https://dns.google/dns-query,https://dns.cloudflare.com/dns-query
# Hijack DNS
# é»˜è®¤æƒ…å†µä¸‹ï¼ŒLoon åªè¿”å›å‘é€åˆ° Loon DNS åœ°å€çš„ DNS æŸ¥è¯¢çš„å‡ IP åœ°å€(198.18.0.2)ã€‚
# æœ‰äº›è®¾å¤‡æˆ–è½¯ä»¶æ€»æ˜¯ä½¿ç”¨ç¡¬ç¼–ç çš„ DNS æœåŠ¡å™¨ã€‚ (ä¾‹å¦‚ Google Speakers æ€»æ˜¯ä½¿ç”¨ 8.8.8.8)ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨æ­¤é€‰é¡¹åŠ«æŒæŸ¥è¯¢ï¼Œä»¥è·å¾—ä¸€ä¸ªå‡åœ°å€ã€‚
hijack-dns = 8.8.8.8:53,8.8.4.4:53
# Wi-Fi è®¿é—®
allow-wifi-access = false
wifi-access-http-port = 1234
wifi-access-socks5-port = 1235
mitm-on-wifi-access = false
# ä»£ç†æµ‹é€Ÿ URL
internet-test-url = http://connectivitycheck.platform.hicloud.com/generate_204
proxy-test-url = http://detectportal.firefox.com/success.txt
# æµ‹é€Ÿè¶…æ—¶ (s)
test-timeout = 5
# ç½‘ç»œæ¥å£
interface-mode = auto
# å½“èŠ‚ç‚¹è¿ç»­å¤±è´¥å¤šå°‘æ¬¡åå¼€å§‹åˆ‡æ¢èŠ‚ç‚¹
switch-node-after-failure-times = 3
# ssid-triggerå‚æ•°ï¼Œç”¨äºæŒ‡å®šSSIDä¸‹æµé‡æ¨¡å¼åˆ‡æ¢ï¼Œï¼ˆdefaultè¡¨ç¤ºé»˜è®¤ï¼Œcellularè¡¨ç¤ºèœ‚çªï¼Œç›®å‰æ”¯æŒä¸‰ç§å€¼ï¼šruleï¼Œdirectï¼Œproxyï¼‰ 
# ssid-trigger = "default":rule, "cellular":rule,"ASUS_5G":direct
# geoipå’Œasn
geoip-url = https://cdn.jsdelivr.net/gh/Masaiki/GeoIP2-CN@release/Country.mmdb
ipasn-url = https://cdn.jsdelivr.net/gh/P3TERX/GeoLite.mmdb@download/GeoLite2-ASN.mmdb
# è§£æå™¨
resource-parser = https://cdn.jsdelivr.net/gh/sub-store-org/Sub-Store@release/sub-store-parser.loon.min.js

[Host]
# applestoreåŠ é€ŸCDN
iosapps.itunes.apple.com = iosapps.itunes.apple.com.download.ks-cdn.com

[Proxy]

[Remote Proxy]


[Proxy Group]
FINAL = select,DIRECT,èŠ‚ç‚¹é€‰æ‹©,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Final.png
èŠ‚ç‚¹é€‰æ‹© = select,é¦™æ¸¯èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Proxy.png
è‹¹æœæœåŠ¡ = select,DIRECT,èŠ‚ç‚¹é€‰æ‹©,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Apple.png
æ²¹ç®¡è§†é¢‘ = select,èŠ‚ç‚¹é€‰æ‹©,é¦™æ¸¯èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,éŸ©å›½èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/YouTube.png
å·´å“ˆå§†ç‰¹ = select,èŠ‚ç‚¹é€‰æ‹©,å°æ¹¾èŠ‚ç‚¹,é¦™æ¸¯èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Bahamut.png
ç”µæŠ¥æ¶ˆæ¯ = select,èŠ‚ç‚¹é€‰æ‹©,é¦™æ¸¯èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Telegram.png
å›½å¤–åª’ä½“ = select,èŠ‚ç‚¹é€‰æ‹©,ç‹®åŸèŠ‚ç‚¹,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,éŸ©å›½èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Streaming.png
æ¸¯å°ç•ªå‰§ = select,DIRECT,å°æ¹¾èŠ‚ç‚¹,é¦™æ¸¯èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/StreamingSE.png
é¦™æ¸¯èŠ‚ç‚¹ = url-test,é¦™æ¸¯,url = http://www.gstatic.com/generate_204,interval = 600,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/HK.png
å°æ¹¾èŠ‚ç‚¹ = url-test,å°æ¹¾,url = http://www.gstatic.com/generate_204,interval = 600,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/TW.png
åŠ æ‹¿å¤§é¹… = url-test,åŠ æ‹¿å¤§,url = http://www.gstatic.com/generate_204,interval = 600,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/CA.png
ç¾å›½èŠ‚ç‚¹ = url-test,ç¾å›½,url = http://www.gstatic.com/generate_204,interval = 600,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/US.png
æ¬§ç›ŸèŠ‚ç‚¹ = url-test,æ¬§ç›Ÿ,interval = 60,tolerance = 150,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/EU.png
è‹±å›½èŠ‚ç‚¹ = url-test,è‹±å›½,url = http://www.gstatic.com/generate_204,interval = 600,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/UK.png
æ—¥æœ¬èŠ‚ç‚¹ = url-test,æ—¥æœ¬,url = http://www.gstatic.com/generate_204,interval = 600,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/JP.png
éŸ©å›½èŠ‚ç‚¹ = url-test,éŸ©å›½,url = http://www.gstatic.com/generate_204,interval = 600,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/KR.png
è‹ä¿„èŠ‚ç‚¹ = url-test,ä¿„ç½—æ–¯èŠ‚ç‚¹,url = http://www.gstatic.com/generate_204,interval = 600,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/RU.png
ç‹®åŸèŠ‚ç‚¹ = url-test,æ–°åŠ å¡,url = http://www.gstatic.com/generate_204,interval = 600,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/SG.png
è§£é”èŠ‚ç‚¹ = select,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Netease_Music_Unlock.png

[Remote Filter]
é¦™æ¸¯ = NameRegex, FilterKey = "(?=.*(æ¸¯|HK|(?i)Hong))^((?!(å°æ¹¾|æ—¥æœ¬|æ–°åŠ å¡|ç¾å›½|éŸ©å›½|ç‹®åŸ|å—æœé²œ|US|SG|JP|KR|TW|å°ç£|ç¾åœ‹|éŸ“åœ‹|ç…åŸ)).)*$"
å°æ¹¾ = NameRegex, FilterKey = "(?=.*(å°|TW|(?i)Taiwan))^((?!(æ¸¯|æ—¥|éŸ©|æ–°|ç¾)).)*$"
ç¾å›½ = NameRegex, FilterKey = "(?=.*(ç¾å›½|ç¾åœ‹|US|æ´›æ‰çŸ¶|è¥¿é›…å›¾|(?i)States|American))^((?!(é¦™æ¸¯|å°æ¹¾|æ—¥æœ¬|æ–°åŠ å¡|éŸ©å›½|ç‹®åŸ|å—æœé²œ|SG|JP|KR|HK|TW|å°ç£|éŸ“åœ‹|ç…åŸ)).)*$"
éŸ©å›½ = NameRegex, FilterKey = "(?=.*(KR|Korea|KOR|é¦–å°”|éŸ©|éŸ“|(?i)Korea))^((?!(é¦™æ¸¯|å°æ¹¾|æ–°åŠ å¡|ç¾å›½|ç‹®åŸ|å—æœé²œ|US|SG|HK|TW|å°ç£|ç¾åœ‹|ç…åŸ)).)*$"
è‹±å›½ = NameRegex, FilterKey = "ğŸ‡¬ğŸ‡§|è‹±å›½|UK|ä¼¦æ•¦|è‹±æ ¼å…°|ä¼¯æ˜ç¿°|æ³°æ©æ²³ç•”çº½å¡æ–¯å°”|åˆ©å…¹|çˆ±ä¸å ¡|æ ¼æ‹‰æ–¯å“¥|è‹æ ¼å…°"
æ—¥æœ¬ = NameRegex, FilterKey = "(?=.*(æ—¥æœ¬|JP|(?i)Japan))^((?!(é¦™æ¸¯|å°æ¹¾|æ–°åŠ å¡|ç¾å›½|éŸ©å›½|ç‹®åŸ|å—æœé²œ|US|SG|KR|HK|TW|å°ç£|ç¾åœ‹|éŸ“åœ‹|ç…åŸ)).)*$"
æ–°åŠ å¡ = NameRegex, FilterKey = "(?=.*(æ–°åŠ å¡|ç‹®åŸ|SG|(?i)Singapore))^((?!(é¦™æ¸¯|å°æ¹¾|æ—¥æœ¬|ç¾å›½|éŸ©å›½|å—æœé²œ|US|JP|KR|HK|TW|å°ç£|ç¾åœ‹|éŸ“åœ‹)).)*$"
åŠ æ‹¿å¤§ = NameRegex, FilterKey = "ğŸ‡¨ğŸ‡¦|åŠ æ‹¿å¤§|CA|æ¸¥å¤ªå"
æ¬§ç›Ÿ = NameRegex, FilterKey = "(?=.*(?i)(å¾·å›½|Germany|æ³•å›½|France|æ„å¤§åˆ©|Italy|è¥¿ç­ç‰™|Spain|å¥¥åœ°åˆ©|Austria|æ¯”åˆ©æ—¶|Belgium|ä¿åŠ åˆ©äºš|Bulgaria|å…‹ç½—åœ°äºš|Croatia|å¡æµ¦è·¯æ–¯|Cyprus|æ·å…‹|Czechia|æ·å…‹å…±å’Œå›½|Czech Republic|ä¸¹éº¦|Denmark|çˆ±æ²™å°¼äºš|Estonia|èŠ¬å…°|Finland|å¸Œè…Š|Greece|åŒˆç‰™åˆ©|Hungary|çˆ±å°”å…°|Ireland|æ‹‰è„±ç»´äºš|Latvia|ç«‹é™¶å®›|Lithuania|å¢æ£®å ¡|Luxembourg|é©¬è€³ä»–|Malta|è·å…°|Netherlands|æ³¢å…°|Poland|è‘¡è„ç‰™|Portugal|ç½—é©¬å°¼äºš|Romania|æ–¯æ´›ä¼å…‹|Slovakia|æ–¯æ´›æ–‡å°¼äºš|Slovenia|ç‘å…¸|Sweden))"

[Remote Rule]
https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Extra/Reject/Advertising.list, policy=REJECT, tag=å»å¹¿å‘Š, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/TestFlight/TestFlight.list, policy=èŠ‚ç‚¹é€‰æ‹©, tag=TestFlight, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Apple/Apple.list, policy=è‹¹æœæœåŠ¡, tag=è‹¹æœæœåŠ¡, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/YouTube/YouTube.list, policy=æ²¹ç®¡è§†é¢‘, tag=æ²¹ç®¡è§†é¢‘, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Netflix/Netflix.list, policy=å¥ˆé£è§†é¢‘, tag=å¥ˆé£è§†é¢‘, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Bahamut/Bahamut.list, policy=å·´å“ˆå§†ç‰¹, tag=å·´å“ˆå§†ç‰¹, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/GlobalMedia/GlobalMedia.list, policy=èŠ‚ç‚¹é€‰æ‹©, tag=å›½å¤–åª’ä½“, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/BiliBili/BiliBili.list, policy=æ¸¯å°ç•ªå‰§, tag=å›½å†…åª’ä½“, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Telegram/Telegram.list, policy=ç”µæŠ¥æ¶ˆæ¯, tag=ç”µæŠ¥æ¶ˆæ¯, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Proxy/Proxy.list, policy=èŠ‚ç‚¹é€‰æ‹©, tag=å…¨çƒè§„åˆ™, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Proxy/Proxy_Domain.list, policy=èŠ‚ç‚¹é€‰æ‹©, tag=å…¨çƒè§„åˆ™, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/China/China.list, policy=DIRECT, tag=å…¨çƒç›´è¿, enabled=true

[Rule]
GEOIP,CN,DIRECT
FINAL,FINAL

[Rewrite]
# è§£å†³githubé€Ÿç‡é™åˆ¶è¿”å›429é—®é¢˜
#^https:\/\/(raw|gist)\.githubusercontent\.com\/ header-replace Accept-Language en-us
#^https:\/\/github\.com\/ header-replace Accept-Language en-us
#æ›¿æ¢User-Agentçš„å€¼è¢«æ­£åˆ™regexåŒ¹é…åˆ°çš„å†…å®¹
#\bhttps?://[^\s()<>]+(?:\([\w\d]+\)|([^[:punct:]\s]|/)) header-replace User-Agent Sol81X Accept-Language en;q=0.8

[Remote Rewrite]

[Script]

[Remote Script]
https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/Fake_Vip.conf, tag=Fake-VIP, enabled=false
https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/Cookie.conf, tag=Cookie.è·å–å®Œä¸€å®šè¦å…³é—­, enabled=false
https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/Task.conf, tag=Task, enabled=false
https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/Script.conf, tag=Script, enabled=false

[Plugin]
https://raw.githubusercontent.com/Script-Hub-Org/Script-Hub/main/modules/script-hub.loon.plugin, enabled=true
https://raw.githubusercontent.com/chavyleung/scripts/master/box/rewrite/boxjs.rewrite.loon.plugin, enabled=true
https://kelee.one/Tool/Loon/Lpx/Block_HTTPDNS.lpx, enabled=true
https://kelee.one/Tool/Loon/Lpx/BlockAdvertisers.lpx, enabled=true
https://kelee.one/Tool/Loon/Lpx/Remove_ads_by_keli.lpx, enabled=true
https://kelee.one/Tool/Loon/Lpx/Prevent_DNS_Leaks.lpx, enabled=true
https://kelee.one/Tool/Loon/Lpx/QuickSearch.lpx, enabled=true
https://kelee.one/Tool/Loon/Lpx/Node_detection_tool.lpx, enabled=true
https://kelee.one/Tool/Loon/Lpx/Keep_remove_ads.lpx, enabled=true
https://raw.githubusercontent.com/sub-store-org/Sub-Store/master/config/Loon.plugin, enabled=true
https://raw.githubusercontent.com/deezertidal/private/master/plugallery/aqc.plugin, enabled=true
https://whatshub.top/plugin/keep.plugin, enabled=true
https://github.com/NSRingo/GeoServices/releases/latest/download/iRingo.Maps.plugin, enabled=true
https://github.com/NSRingo/Siri/releases/latest/download/iRingo.Siri.plugin, enabled=true
https://whatshub.top/plugin/adultraplus.plugin, enabled=false
https://kelee.one/Tool/Loon/Plugin/Google.plugin, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/Loon/Advertising/Advertising.plugin, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/Loon/Redirect/Redirect.plugin, enabled=true

[Mitm]
ca-p12 = 
ca-passphrase = 
hostname =
skip-server-cert-verify = false
